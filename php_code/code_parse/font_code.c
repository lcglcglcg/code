
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "font_code.h"


#define FONT_CODE_ARR_H 13
#define FONT_CODE_ARR_W 10

char font_code_1[13][10] = {
    {0,0,0,1,1,1,0,0},
    {0,1,1,1,1,1,0,0},
    {0,0,0,1,1,1,0,0},
    {0,0,0,1,1,1,0,0},
    {0,0,0,1,1,1,0,0},
    {0,0,0,1,1,1,0,0},
    {0,0,0,1,1,1,0,0},
    {0,0,0,1,1,1,0,0},
    {0,0,0,1,1,1,0,0},
    {0,0,0,1,1,1,0,0},
    {0,0,0,1,1,1,0,0},
    {0,0,0,1,1,1,0,0},
    {1,1,1,1,1,1,1,1},
};

char font_code_2[13][10] = {
    {0,1,1,1,1,1,1,0,0},
    {0,1,1,0,0,1,1,1,1},
    {1,1,1,0,0,0,1,1,0},
    {1,1,1,0,0,0,1,1,1},
    {0,0,0,0,0,0,1,1,0},
    {0,0,0,0,0,1,1,1,0},
    {0,0,0,0,0,1,1,0,0},
    {0,0,0,0,1,1,0,0,0},
    {0,0,1,1,1,0,0,0,0},
    {0,0,1,1,0,0,0,0,0},
    {0,1,1,0,0,0,0,1,1},
    {1,1,0,0,0,0,1,1,1},
    {1,1,1,1,1,1,1,1,0},
};

char font_code_3[13][10] = {
    {0,1,1,1,1,1,1,0},
    {0,1,1,0,0,1,1,1},
    {1,1,1,0,0,1,1,1},
    {1,1,1,0,0,1,1,1},
    {0,0,0,0,0,1,1,0},
    {0,0,1,1,1,1,0,0},
    {0,0,0,0,0,1,1,1},
    {0,0,0,0,0,0,1,1},
    {0,0,0,0,0,0,1,1},
    {1,1,1,0,0,0,1,1},
    {1,1,1,0,0,0,1,1},
    {1,1,1,0,0,1,1,1},
    {0,1,1,1,1,1,1,0},
};

char font_code_4[13][10] = {
    {0,0,0,0,0,0,1,1,0,0},
    {0,0,0,0,0,1,1,1,0,0},
    {0,0,0,0,1,1,1,1,0,0},
    {0,0,0,0,1,1,1,1,0,0},
    {0,0,0,1,0,0,1,1,0,0},
    {0,0,1,1,0,0,1,1,0,0},
    {0,1,1,1,0,0,1,1,0,0},
    {0,0,1,0,0,0,1,1,1,0},
    {1,1,1,1,1,1,1,1,1,1},
    {0,0,0,0,0,0,1,1,0,0},
    {0,0,0,0,0,0,1,1,0,0},
    {0,0,0,0,0,0,1,1,0,0},
    {0,0,0,1,1,1,1,1,1,1},
};

char font_code_5[13][10] = {
    {0,1,1,1,1,1,1,1},
    {0,1,1,0,0,0,0,0},
    {0,1,1,0,0,0,0,0},
    {0,1,1,0,0,0,0,0},
    {0,1,0,0,0,0,0,0},
    {0,1,1,1,1,1,1,0},
    {0,1,1,1,0,1,1,1},
    {0,0,0,0,0,0,1,1},
    {0,0,0,0,0,0,1,1},
    {1,1,1,0,0,0,1,1},
    {1,1,1,0,0,0,1,1},
    {1,1,1,0,0,1,1,1},
    {0,1,1,1,1,1,1,0},
};

char font_code_6[13][10] = {
    {0,0,1,1,1,1,1,0,0},
    {0,1,1,1,0,1,1,1,0},
    {0,1,1,0,0,1,1,1,0},
    {1,1,1,0,0,0,0,0,0},
    {1,1,1,0,0,0,0,0,0},
    {1,1,1,1,1,1,1,0,0},
    {1,1,1,1,0,0,1,1,0},
    {1,1,1,0,0,0,1,1,0},
    {1,1,1,0,0,0,1,1,1},
    {1,1,1,0,0,0,1,1,1},
    {1,1,1,0,0,0,1,1,0},
    {0,1,1,1,0,1,1,1,0},
    {0,0,1,1,1,1,1,0,0},
};

char font_code_7[13][10] = {
    {0,1,1,1,1,1,1,1,1},
    {1,1,1,0,0,0,1,1,0},
    {1,1,0,0,0,1,1,1,0},
    {0,0,0,0,0,1,1,0,0},
    {0,0,0,0,1,1,0,0,0},
    {0,0,0,0,1,1,0,0,0},
    {0,0,0,0,1,1,0,0,0},
    {0,0,0,1,1,1,0,0},
    {0,0,0,1,1,0,0,0},
    {0,0,0,1,1,0,0,0,0},
    {0,0,1,1,1,0,0,0,0},
    {0,0,1,1,1,0,0,0,0},
    {0,0,1,1,1,0,0,0,0},
};

char font_code_8[13][10] = {
    {0,0,1,1,1,1,1,0,0},
    {1,1,1,0,0,1,1,1,0},
    {1,1,1,0,0,0,1,1,0},
    {1,1,0,0,0,0,1,1,0},
    {1,1,1,0,0,0,1,1,0},
    {0,1,1,1,0,1,1,0,0},
    {0,0,1,1,1,1,0,0,0},
    {1,1,1,0,0,1,1,1,0},
    {1,1,0,0,0,1,1,1,0},
    {1,1,0,0,0,0,1,1,1},
    {1,1,0,0,0,0,1,1,0},
    {1,1,1,0,0,1,1,1,0},
    {0,1,1,1,1,1,1,0,0},
};

char font_code_9[13][10] = {
    {0,0,1,1,1,1,1,1,0,0},
    {0,1,1,1,0,0,1,1,1,0},
    {1,1,1,1,0,0,1,1,1,0},
    {0,1,1,0,0,0,0,1,1,0},
    {0,1,1,0,0,0,0,1,1,1},
    {0,1,1,1,0,0,0,1,1,1},
    {0,1,1,1,0,0,1,1,1,0},
    {0,0,1,1,1,1,1,1,1,1},
    {0,0,0,0,0,0,0,1,1,1},
    {0,0,0,0,0,0,1,1,1,0},
    {0,0,1,1,0,0,1,1,1,0},
    {0,1,1,1,0,1,1,1,0,0},
    {0,0,1,1,1,1,1,0,0,0},
};

char font_code_0[13][10] = {
    {0,0,1,1,1,1,1,0,0},
    {0,1,1,1,1,1,1,1,0},
    {1,1,1,0,0,1,1,1,0},
    {1,1,1,0,0,0,1,1,0},
    {1,1,1,0,0,0,1,1,1},
    {1,1,0,0,0,0,1,1,0},
    {1,1,0,0,0,0,1,1,0},
    {1,1,0,0,0,0,1,1,1},
    {1,1,1,0,0,0,1,1,1},
    {1,1,1,0,0,0,1,1,0},
    {1,1,1,0,0,1,1,1,0},
    {0,1,1,0,0,1,1,0,0},
    {0,0,1,1,1,1,1,0,0},
};

void font_code_add(lg_list_t *head, void *buffer, int height, int width, char ch)
{

    font_code_t *p = malloc(sizeof(font_code_t));
    if (!p) return;
    memset(p, 0, sizeof(font_code_t));

    p->ch = ch;
    p->height = height;
    p->width = width;
    memcpy(p->buffer, buffer, 13 * 10);
    lg_list_add(head, &p->next);

    int i, j;
    for (i = 0; i < height; i++) {

	for (j = 0; j < width; j++) {

	    if (p->buffer[i][j]) p->pixel_max++;
	}
    }
}

void font_code_init(lg_list_t *head)
{

    lg_list_init(head);
    font_code_add(head, font_code_1, 13, 8, 	'1');
    font_code_add(head, font_code_2, 13, 9, 	'2');
    font_code_add(head, font_code_3, 13, 8, 	'3');
    font_code_add(head, font_code_4, 13, 10, 	'4');
    font_code_add(head, font_code_5, 13, 8, 	'5');
    font_code_add(head, font_code_6, 13, 9, 	'6');
    font_code_add(head, font_code_7, 13, 9, 	'7');
    font_code_add(head, font_code_8, 13, 9, 	'8');
    font_code_add(head, font_code_9, 13, 10, 	'9');
    font_code_add(head, font_code_0, 13, 9, 	'0');
}

void _font_code_print(font_code_t *p)
{

    int i, j;
    for (i = 0; i < p->height; i++) {

	for (j = 0; j < p->width; j++) {

	    if (p->buffer[i][j])
		fprintf(stdout, "#");
	    else
		fprintf(stdout, " ");
	}

	fprintf(stdout, "|%d\n", i);
    }
}

void font_code_print(lg_list_t *head)
{

    lg_list_t *p = NULL;
    lg_list_for_each(p, head) {

	font_code_t *node = (font_code_t *)p;
	fprintf(stdout, "============>%c\n", node->ch);
	_font_code_print(node);
    }
}


